<% icon_sizes = Rails.configuration.serviceworker.icon_sizes %>
{
  "name": "まちかどルート",
  "short_name": "まちル",
  "start_url": "/",
  "icons": [
  <% icon_sizes.map { |s| "#{s}x#{s}" }.each.with_index do |dim, i| %>
    {
      "src": "<%= image_path "serviceworker-rails/android-chrome-#{dim}.png" %>",
      "sizes": "<%= dim %>",
      "type": "image/png"
    }<%= i == (icon_sizes.length - 1) ? '' : ',' %>
  <% end %>
  ],
  "theme_color": "#000000",
  "background_color": "#FFFFFF",
  "display": "fullscreen",
  "orientation": "portrait",
  "share_target": {
    "url_template": "/share-target?link={url}",
    "action": "/share-target",
    "method": "GET",
    "enctype": "application/x-www-form-urlencoded",
    "params": {
      "title": "name",
      "text": "link",
      "url": "link"
    }
  },
  "shortcuts": [
    {
      "name": "サブクエスト作成",
      "short_name": "サブクエ作成",
      "description": "サブクエストを新規作成します",
      "url": "/posts/new",
      "icons": [{ "src": "<%= image_path "serviceworker-rails/android-chrome-192x192.png" %>", "sizes": "192x192" }]
    },
    {
      "name": "ルートマップ",
      "short_name": "マップを開く",
      "description": "地図でサブクエストを探します",
      "url": "/map",
      "icons": [{ "src": "<%= image_path "serviceworker-rails/android-chrome-192x192.png" %>", "sizes": "192x192" }]
    }
  ]  
}
