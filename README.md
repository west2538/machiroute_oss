# まちかどルート

[![GitHub release](https://img.shields.io/github/release/west2538/machiroute_oss.svg)][releases]
[![Mastodon Follow](https://img.shields.io/mastodon/follow/1.svg?domain=https%3A%2F%2Ftokamstdn.jp&style=social)][mstdnfollow]

[releases]: https://github.com/west2538/machiroute_oss/releases
[mstdnfollow]: https://tokamstdn.jp/@west2538

**サブクエストを作りクリアしあうことで**  
**世界がちょっと明るくなる、リアルRPG系Webアプリ**  
  
PC / iPhone / iPad  
https://machiroute.herokuapp.com/

Android  
https://play.google.com/store/apps/details?id=xyz.appmaker.tzozva

<img src="https://user-images.githubusercontent.com/28094903/59081093-57b94400-8927-11e9-835f-aa7d761e7713.jpg" height="300px"><img src="https://user-images.githubusercontent.com/28094903/59081223-f04fc400-8927-11e9-8c2f-bcfc34f25458.jpg" height="300px">

## まちかどルートとは

「道ばたのゴミを拾おう」  
「お年寄りに席をゆずろう」  
「〇〇に行って〇〇しよう」など。  
  
みんなの日常からちょっとした一日一善やおつかいなどをお題にしてサブクエストを作りクリアしあうことで世界がちょっと明るくなる、そんなリアルRPG系Webアプリです。いろんなつぶやきも投稿できるので冒険者(ユーザー)たちの"今"がわかります。  

クリアしていけば経験値がたまってレベルアップ。うまく使わないとHPがなくなって「復活の呪文」を唱えなければならなくなります。また、マップも付けられるので「〇〇に行って〇〇しよう！」というサブクエストも作成可能ですよ。  

ひとり匿名で人知れず楽しむもよし、地域コミュニティ内外にいる仲間どうしの《まちあそび》ツールとして活用してもらえたらうれしいです。

## 主な機能
  
**⚔ サブクエストを作成して投稿・共有！**  
魔王を倒すようなメインのクエストではなく、ちょっとした一日一善をお題にサブクエストを作成しよう  
  
**⚔ みんなでサブクエストをクリアしあう！**  
自分や他のユーザー（冒険者）のサブクエストに「クリアコメント」を投稿すればクリアできます  
  
**🌍 サブクエストはシェアOK**  
サブクエストはTwitterなどにシェア可能です。シェアされたサブクエストはまちかどルートにログインしなくともみんなが見ることができます(サブクエストをクリアするにはログインが必要となります)。Web Share API対応なのでスマホからはネイティブアプリのようなシェアも可能ですよ。さらにソーシャルプラグイン「noteで書く」ボタンも設置しています  
  
**📊 経験値がたまってレベルアップ！**  
サブクエストをクリアしていくと経験値がたまってレベルアップ。レベルに応じて称号がつきますよ！ゲーム感覚で楽しめます  
  
**📆 日付・期間を指定してサブクエスト作成**  
イベント性の強いサブクエストに。最長10日間トップに掲載（レベル50以上限定）  
  
**✔「せーぶ」しよう！**  
気になったサブクエストをいったんせーぶ。あとでクリアするのに便利です  
  
**📝 タイムライン**  
みんなの投稿がTwitterやLINEに似た独自のタイムラインに流れます  
  
**📰 ニュース**  
冒険に役立ちそうなニュースを投稿。みんなのニュースもタイムラインで読めます  
  
**📚 書籍や漫画でレベルアップ！**  
本の裏表紙のISBNコードで表紙や著者名などを瞬時に検索して投稿できます  
  
**🚃 近くの駅でチェックイン！**  
近くの駅を検索してチェックイン。すると経験値がたまってレベルアップ！  
  
**⚔ おすすめのサブクエスト**  
みんながクリアしている週間の人気サブクエストがわかります  
  
**🗾 位置情報**  
スポット名や住所の登録で「〇〇に行って〇〇する」サブクエストを作成  
  
**🗾 周辺の攻略スポット**  
周辺にあるおすすめの場所を複数登録。まちあるきがさらに楽しくなります  
  
**🚩 ルートマップ**  
位置情報つきのサブクエストや冒険の拠点（ギルドなど）を地図から探せます  
  
**🕍 冒険の拠点を登録！**  
ギルドをはじめみんなの冒険の拠点を登録でき、「ルートマップ」から探せます  
  
**📊 経験値（EXP）メーター**  
次のレベルアップまで棒グラフで表現。経験値をためるとグングン伸びます  
  
**📷 写真で探す**  
サブクエストやクリアコメントに写真を貼付。写真一覧からサブクエストを探せます  
  
**📎 タグづけとタグの検索**  
サブクエストに関連する用語や地域名をタグづけすると、あとでみんなが探しやすくなります。さらに一部の文字の入力だけで探せるオートコンプリート機能付きの検索機能も備わっています  
  
**🎁 MaChiKa（マチカ）**  
ポイント的な独自トークン。たまればギルドで何かと交換。いずれ地域通貨になる!?  
  
**📣 MastodonとTwitterに自動投稿**  
まちかどルートはSNS「Mastodon」のアカウントでログインできる世界初のリアルRPGアプリです(たぶん)。さらにTwitterアカウントも登録すると「冒険中のつぶやき」時に同じ内容をMastodonとTwitterの両方に自動投稿します  
  
**💡 通知**  
あなたのサブクエストを誰かがクリアすると右上の通知バーが緑色に変わって知らせてくれます。さらにパソコンとAndroidではプッシュ通知(WebPush)にも対応！連携しているMastodonの通知もリアルタイムに届きますよ  
  
**🚪 みんなのログイン履歴**  
ネトゲさながらにみんながログイン/ログアウトした履歴をリアルタイムに表示  
  
**😜 冒険者のステータス**  
いわゆるユーザー情報ページ。アイコンやプロフィール文のほか、スキルを最大4つまで登録可能。さらにグランドマスターに会えば特別な称号が与えられます  
  
**📈 アクティビティ・チャート**  
冒険者のステータスにあります。投稿やクリアといった活動（アクティビティ）が多いほどチャートにたくさん草が生えます  
  
**🔋 バッテリーホイミ機能**  
充電を検知して、その残量分でHPを回復。うまく使えば一気に全回復できます。ちなみにこの機能はPCもしくはAndroidのChrome限定です(たぶん)  
  
**◆ その他**  
* みんなの平均レベルやクリア件数で「ソーシャルアップデート値」が上昇！  
* 背景イラストが季節によって変わります  
* パソコンでもiPadでもスマホでも使えます(3形態のレイアウトへ自動切り替え)  
* サーバーとの双方向通信によってタイムラインを自動更新  
* サブクエストの閲覧履歴機能  
* RSSフィード生成（IFTTT等との連携で新規サブクエストのメール通知などが可能）  
* Google Cloud Visionの強力解析で不適切な画像をブロック  
* PWA（Progressive Web App）として構築。スマホのホーム画面にアイコンを追加可能なほか、Webアプリなのにネイティブアプリ(Google PlayやApp Storeからダウンロードするアプリ)のようにフルスクリーン表示できます  
* ほかにも細かなおもしろ機能ありますよ  
  
## 稼働環境  

* Heroku Hobby Dynos(heroku-18) 
* Ruby 2.6.5 
* Rails 6.0.2.1 
* PostgreSQL 12.2 
* Redis 5.0.7 
* Amazon S3
  
## 開発環境 

* DELL XPS 15 9560(SSD 512GB/RAM16GB) 
* VM VirtualBox 6.1.4 
* Host OS: Windows 10 Home ビルド 19041 
* Guest OS: CentOS Linux release 7.7.1908 (Core) 
* Visual Studio Code 
* WinSCP 
* その他のツール一覧はこちらでも確認できます  
https://devtalk.jp/products/5  
* 開発メモ on Qiita  
https://qiita.com/west2538  
  
## パフォーマンス

(2019年10月7日の時点)  
* 平均レスポンス 119ms 
  
## サポーター/寄付について 
よかったら開発者およびユーザー（冒険者）のサポーターになってください！  
https://lounge.dmm.com/detail/1397/

## API

独自のAPIを提供しています  
https://note.mu/west2538/n/nea30c9e3936f  
https://machiroute.herokuapp.com/docs  
  

## リアルRPGのプラットフォーム  
  
まちかどルートはソーシャルアップデートを目指すリアルRPGプロジェクトのプラットフォームのひとつとして展開中です  
https://machikado-guild.com/